services:
  commet:
    image: commet
    build:
      context: .
      args:
        RELEASE: ${RELEASE}
    container_name: commet
    restart: unless-stopped
    environment:
      VIRTUAL_PORT: ${VIRTUAL_PORT:-80}
      VIRTUAL_HOST: ${VIRTUAL_HOST}
      LETSENCRYPT_HOST: ${LETSENCRYPT_HOST}
      LETSENCRYPT_EMAIL: ${LETSENCRYPT_EMAIL}
    networks:
      - letsencrypt-network
networks:
  letsencrypt-network:
    external: true
